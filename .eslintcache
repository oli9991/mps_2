[{"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/index.js":"1","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/App.js":"2","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/reportWebVitals.js":"3","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/router.js":"4","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/pages/auth.js":"5","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/pages/home.js":"6","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/pages/reservations.js":"7","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/layout/layout.js":"8","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/layout/footer.js":"9","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/layout/header.js":"10","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/assets/index.js":"11","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/button.js":"12","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/input.js":"13","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/card.js":"14","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/notification.js":"15","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/requests/interceptors.js":"16","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/requests/routes.js":"17","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/utils/localData.js":"18","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/context/context.js":"19","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/requests/function.js":"20","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/pages/self_reservations.js":"21","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/custom_select.js":"22","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/utils/utils.js":"23","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/loading_screen.js":"24","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/pages/tables.js":"25","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/reservation_card.js":"26","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/history.js":"27","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/redux/store.js":"28","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/redux/notifications.js":"29","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/redux/reservations.js":"30","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/redux/index.js":"31","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/redux/resources.js":"32","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/notifications.js":"33","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/pages/add_resourse.js":"34"},{"size":449,"mtime":1611427119814,"results":"35","hashOfConfig":"36"},{"size":1553,"mtime":1611586939715,"results":"37","hashOfConfig":"36"},{"size":362,"mtime":1610550522912,"results":"38","hashOfConfig":"36"},{"size":870,"mtime":1611583218446,"results":"39","hashOfConfig":"36"},{"size":5493,"mtime":1611575382482,"results":"40","hashOfConfig":"36"},{"size":29448,"mtime":1611573907255,"results":"41","hashOfConfig":"36"},{"size":1451,"mtime":1611584624931,"results":"42","hashOfConfig":"36"},{"size":607,"mtime":1611599565119,"results":"43","hashOfConfig":"36"},{"size":191,"mtime":1610559862665,"results":"44","hashOfConfig":"36"},{"size":2477,"mtime":1611590205045,"results":"45","hashOfConfig":"36"},{"size":91,"mtime":1610558016500,"results":"46","hashOfConfig":"36"},{"size":440,"mtime":1611429608724,"results":"47","hashOfConfig":"36"},{"size":463,"mtime":1611407135893,"results":"48","hashOfConfig":"36"},{"size":12078,"mtime":1611603265162,"results":"49","hashOfConfig":"36"},{"size":188,"mtime":1610627817290,"results":"50","hashOfConfig":"36"},{"size":919,"mtime":1611508064126,"results":"51","hashOfConfig":"36"},{"size":766,"mtime":1611604784883,"results":"52","hashOfConfig":"36"},{"size":313,"mtime":1611335065515,"results":"53","hashOfConfig":"36"},{"size":737,"mtime":1611589724905,"results":"54","hashOfConfig":"36"},{"size":4130,"mtime":1611604189057,"results":"55","hashOfConfig":"36"},{"size":1874,"mtime":1611582603461,"results":"56","hashOfConfig":"36"},{"size":565,"mtime":1611341200699,"results":"57","hashOfConfig":"36"},{"size":989,"mtime":1611588917889,"results":"58","hashOfConfig":"36"},{"size":619,"mtime":1611405107889,"results":"59","hashOfConfig":"36"},{"size":1736,"mtime":1611600370468,"results":"60","hashOfConfig":"36"},{"size":4961,"mtime":1611589443229,"results":"61","hashOfConfig":"36"},{"size":2928,"mtime":1611600186286,"results":"62","hashOfConfig":"36"},{"size":122,"mtime":1611427795538,"results":"63","hashOfConfig":"36"},{"size":523,"mtime":1611586590499,"results":"64","hashOfConfig":"36"},{"size":284,"mtime":1611586053672,"results":"65","hashOfConfig":"36"},{"size":249,"mtime":1611429140393,"results":"66","hashOfConfig":"36"},{"size":300,"mtime":1611433801488,"results":"67","hashOfConfig":"36"},{"size":4503,"mtime":1611601485878,"results":"68","hashOfConfig":"36"},{"size":2419,"mtime":1611589815356,"results":"69","hashOfConfig":"36"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},"pzsmms",{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"137","usedDeprecatedRules":"72"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/index.js",[],["140","141"],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/App.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/reportWebVitals.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/router.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/pages/auth.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/pages/home.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/pages/reservations.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/layout/layout.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/layout/footer.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/layout/header.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/assets/index.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/button.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/input.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/card.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/notification.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/requests/interceptors.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/requests/routes.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/utils/localData.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/context/context.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/requests/function.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/pages/self_reservations.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/custom_select.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/utils/utils.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/loading_screen.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/pages/tables.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/reservation_card.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/history.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/redux/store.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/redux/notifications.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/redux/reservations.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/redux/index.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/redux/resources.js",[],"/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/custom_components/notifications.js",["142"],"import React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { Modal } from 'antd';\nimport styled from 'styled-components';\nimport _ from 'underscore';\n\nimport { connect, useDispatch } from 'react-redux';\nimport { setModal, setNotifications } from '../../redux/notifications';\nimport Context from '../../context/context';\nimport moment from 'moment';\n\nconst Notifications = props => {\n  const dispatch = useDispatch();\n  const { state } = useContext(Context);\n  const [availableTables, setAvailable] = useState(0);\n  const [availabilities, setAv] = useState([]);\n  const [conclusions, setConclusions] = useState(new Map());\n\n  const calculateAvailabilty = useCallback(() => {\n    if (state.user) {\n      if (_.isEmpty(state.user.subscribed)) {\n        setAvailable(0);\n        return;\n      }\n      if (!_.isEmpty(state.user.subscribed)) {\n        if (!_.isEmpty(props.resources)) {\n          setAvailable(state.user.subscribed.length);\n          state.user.subscribed.forEach(id => {\n            props.resources.forEach(resource => {\n              if (resource.resourceId === id) {\n                if (!_.isEmpty(resource.reservations)) {\n                  resource.reservations.forEach(reservation => {\n                    if (\n                      moment(reservation.start).isBefore(moment()) &&\n                      moment().isAfter(moment(reservation.start)) &&\n                      moment(reservation.end).isAfter(moment())\n                    ) {\n                      setConclusions(conclusions =>\n                        conclusions.set(resource.resourceId, {\n                          ...resource,\n                          availability: false\n                        })\n                      );\n                    } else {\n                      setConclusions(conclusions =>\n                        conclusions.set(resource.resourceId, {\n                          ...resource,\n                          availability: true\n                        })\n                      );\n                    }\n                  });\n                } else if (resource.resourceId === id) {\n                  setConclusions(conclusions =>\n                    conclusions.set(resource.resourceId, {\n                      ...resource,\n                      availability: true\n                    })\n                  );\n                }\n              }\n            });\n          });\n        }\n      }\n    }\n\n    conclusions.forEach(value => {\n      setAv(a => a.concat([value]));\n    });\n  }, [availableTables, conclusions, dispatch, props.resources, state.user]);\n\n  useEffect(() => {\n    let count = 0;\n    conclusions.forEach(value => {\n      if (value.availability === true) {\n        count++;\n      }\n    });\n    setAvailable(count);\n  }, [conclusions]);\n\n  useEffect(() => {\n    setConclusions(new Map());\n    setAv([]);\n    setAvailable(0);\n\n    calculateAvailabilty();\n    dispatch(setNotifications(availableTables));\n    // eslint-disable-next-line\n  }, [props.resources, state.user, dispatch, props.reservations]);\n\n  return (\n    <CustomModal\n      title='Notificări'\n      visible={props.notifications.modalOpened}\n      cancelButtonProps={null}\n      closable\n      keyboard\n      destroyOnClose\n      onCancel={() => dispatch(setModal(false))}\n      footer={null}\n    >\n      <p>\n        Sunteti abonat la {state.user && state.user.subscribed.length}{' '}\n        {state.user && state.user.subscribed.length === 1 ? 'masă' : 'mese'}.\n      </p>\n\n      <div>\n        {availabilities.map((value, _) =>\n          value.availability === false ? (\n            <div key={value.resourceId}>\n              <p style={{ fontWeight: 'bold' }}>{value.name}</p>\n              <p>Această masă este momentan rezervată.</p>\n            </div>\n          ) : (\n            <div key={value.resourceId}>\n              <p style={{ fontWeight: 'bold' }}>{value.name}</p>\n              <p>Această masă este liberă.</p>\n            </div>\n          )\n        )}\n      </div>\n    </CustomModal>\n  );\n};\n\nconst mapStateToProps = store => ({\n  notifications: store.notifications,\n  resources: store.resources,\n  reservations: store.reservations\n});\nexport default connect(mapStateToProps)(Notifications);\n\nconst CustomModal = styled(Modal)`\n  font-family: 'Assistant';\n  h3 {\n    opacity: 0.8;\n    margin-bottom: 5px;\n    margin-top: 20px;\n\n    &:first-child {\n      margin-top: 0;\n    }\n  }\n\n  p {\n    font-size: 1em;\n    margin-bottom: 5px;\n  }\n\n  h4 {\n    margin-bottom: 20px;\n  }\n`;\n","/Users/olimpiaursu/Documents/An 4/MPS/rezerva/src/components/pages/add_resourse.js",[],{"ruleId":"143","replacedBy":"144"},{"ruleId":"145","replacedBy":"146"},{"ruleId":"147","severity":1,"message":"148","line":70,"column":6,"nodeType":"149","endLine":70,"endColumn":75,"suggestions":"150"},"no-native-reassign",["151"],"no-negated-in-lhs",["152"],"react-hooks/exhaustive-deps","React Hook useCallback has unnecessary dependencies: 'availableTables' and 'dispatch'. Either exclude them or remove the dependency array.","ArrayExpression",["153"],"no-global-assign","no-unsafe-negation",{"desc":"154","fix":"155"},"Update the dependencies array to be: [conclusions, props.resources, state.user]",{"range":"156","text":"157"},[2514,2583],"[conclusions, props.resources, state.user]"]